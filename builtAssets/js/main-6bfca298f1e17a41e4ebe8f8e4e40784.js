(function(a){var b=function(b){var c=a(".notification");c.html("<span>"+b+"</span>").addClass("show"),setTimeout(function(){c.removeClass("show")},5e3)},c={ele:a(".loading"),show:function(){c.ele.addClass("show")},hide:function(){c.ele.addClass("show")}};a.fn.form=function(b){var c=a(this),d=c.find("input"),e=c.attr("method"),f=c.find("input[type=submit]"),g=c.attr("action"),h=function(b){var c={};d.each(function(){var b=a(this),d=b.attr("name"),e=b.val();c[d]=e}),b(c)},i=function(b,c){a.ajax({url:g,type:e,data:b,success:function(a){c(a)}})};f.click(function(a){return h(function(a){i(a,function(a){b(a)})}),!1})};var d=a(".email-form");d.form(function(a){var c=d;c.find("input").removeClass("error").unbind("keypress");if(a.success)b("Thanks! We are sending you an email to confirm your subscription"),_gaq.push(["_trackEvent","Mailing List","Subscribe","Invalid Email"]),c.find("input[type=text]").val("");else if(typeof a.error=="object"){var e=c.find('input[name="'+a.error[0]+'"]');b("Looks like the email you provided is invalid, please revise"),_gaq.push(["_trackEvent","Mailing List","Error","Invalid Email"]),e.addClass("error"),e.bind("keypress",function(){e.removeClass("error")})}else b("Something went wrong; we are redirecting you to a better signup page"),_gaq.push(["_trackEvent","Mailing List","Error","500 Error"]),setTimeout(function(){window.location=a.redirect},3e3)}),a("a").bind("click",function(){_gaq.push(["_trackEvent","Link Click",this.href,a(this).text()])})})(jQuery)